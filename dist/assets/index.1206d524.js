var a=Object.defineProperty,e=Object.defineProperties,l=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(e,l,o)=>l in e?a(e,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[l]=o;import{K as p,u as i,r as s,j as d,h as m,ab as u,ac as c,t as _,P as g,E as b,L as y,Q as f,R as h,S as w,O as k,T as x,F as C,w as P,o as j,b as O,n as v,d as S,U as V,c as z,e as F}from"./vendor.58cdc006.js";/* empty css                        *//* empty css                *//* empty css                      *//* empty css                 *//* empty css                  *//* empty css                     *//* empty css                    *//* empty css                        */import"./index.d6e5daca.js";const U={name:"admin-list",setup(){p(!0);const a=i(),b=s({follow_day_num:0,name:"",id_card:"",hospital_number:"",loading:!1,tableData:[],multipleSelection:[],total:0,currentPage:1,pageSize:10});d((()=>{y(),f()}));const y=()=>{m.get("/api/back/StromalTumors/followDayNum").then((a=>{b.follow_day_num=a.data.follow_day_num,u({title:"间质瘤",message:c("i",{style:"color: #F56C6C"},"今日待随访人数"+b.follow_day_num+"人"),type:"warning"})}))},f=()=>{b.loading=!0,m.get("/api/back/StromalTumors",{params:{page:b.currentPage,page_size:b.pageSize,name:b.name,hospital_number:b.hospital_number,id_card:b.id_card}}).then((a=>{b.tableData=a.data,b.pageSize=a.pagination.perPage,b.total=a.pagination.total,b.currentPage=a.pagination.currentPage,b.loading=!1}))};return h=((a,e)=>{for(var l in e||(e={}))t.call(e,l)&&n(a,l,e[l]);if(o)for(var l of o(e))r.call(e,l)&&n(a,l,e[l]);return a})({},_(b)),e(h,l({changePage:a=>{b.currentPage=a,f()},handleAdd:()=>{a.push({path:"/stromal-tumor-add"})},handleEdit:e=>{a.push({path:"/stromal-tumor-add",query:{id:e}})},handleFollowUp:e=>{a.push({path:"/stromal-tumor-follow-up-index",query:{stromal_tumor_id:e}})},handleOption:()=>{b.currentPage=1,f()},Plus:g}));var h}},D={style:{color:"#F56C6C"}},E=F("新增病例"),T=F("搜索"),q={key:0},A={key:1},I={key:0},K={key:1},L={key:0},N={key:1},Q={key:0},R={key:1},B={key:0},G={key:1},H={key:0,style:{color:"#F56C6C"}},J={key:1},M={key:0},W={key:1},X={key:2},Y={key:0},Z={key:1},$=["onClick"],aa=["onClick"];U.render=function(a,e,l,o,t,r){const n=b,p=y,i=f,s=h,d=w,m=k,u=x;return j(),C(m,{style:{"min-height":"100%"}},{header:P((()=>[O("h1",D,"今日待随访人数"+v(a.follow_day_num)+"人",1),S(n,{type:"primary",icon:o.Plus,onClick:o.handleAdd},{default:P((()=>[E])),_:1},8,["icon","onClick"]),O("div",null,[S(p,{style:{width:"200px","margin-top":"20px","margin-right":"10px","margin-left":"10px"},placeholder:"请输入病例名字",modelValue:a.name,"onUpdate:modelValue":e[0]||(e[0]=e=>a.name=e),clearable:""},null,8,["modelValue"]),S(p,{style:{width:"200px","margin-top":"20px","margin-right":"10px","margin-left":"10px"},placeholder:"请输入病例住院号",modelValue:a.hospital_number,"onUpdate:modelValue":e[1]||(e[1]=e=>a.hospital_number=e),clearable:""},null,8,["modelValue"]),S(p,{style:{width:"200px","margin-top":"20px","margin-right":"10px","margin-left":"10px"},placeholder:"请输入病例身份证号",modelValue:a.id_card,"onUpdate:modelValue":e[2]||(e[2]=e=>a.id_card=e),clearable:""},null,8,["modelValue"]),S(n,{type:"primary",onClick:o.handleOption},{default:P((()=>[T])),_:1},8,["onClick"])])])),default:P((()=>[V(S(s,{data:a.tableData,stripe:"",style:{width:"100%"}},{default:P((()=>[S(i,{prop:"id",label:"id"}),S(i,{prop:"hospital_number",label:"住院号"}),S(i,{prop:"name",label:"姓名"}),S(i,{prop:"age",label:"年龄"}),S(i,{prop:"sex",label:"性别"},{default:P((a=>[1==a.row.sex?(j(),z("span",q,"男")):(j(),z("span",A,"女"))])),_:1}),S(i,{prop:"national",label:"民族"}),S(i,{prop:"id_card",label:"身份证号"}),S(i,{prop:"mobile",label:"患者联系电话"}),S(i,{prop:"total_money",label:"住院总费用"}),S(i,{prop:"family_contact",label:"家属联系方式"}),S(i,{prop:"admission_time",label:"入院日期"},{default:P((a=>["1970-01-01 08:00:00"==a.row.admission_time?(j(),z("span",I)):(j(),z("span",K,v(a.row.admission_time),1))])),_:1}),S(i,{prop:"operative_time",label:"手术日期"},{default:P((a=>["1970-01-01 08:00:00"==a.row.operative_time?(j(),z("span",L)):(j(),z("span",N,v(a.row.operative_time),1))])),_:1}),S(i,{prop:"discharge_time",label:"出院日期"},{default:P((a=>["1970-01-01 08:00:00"==a.row.discharge_time?(j(),z("span",Q)):(j(),z("span",R,v(a.row.discharge_time),1))])),_:1}),S(i,{prop:"total_hospital_days",label:"总住院天数"}),S(i,{prop:"postoperation_hospital_days",label:"术后住院天数"}),S(i,{prop:"is_follow",label:"是否随访"},{default:P((a=>[0==a.row.is_follow?(j(),z("span",B,"否")):(j(),z("span",G,"是"))])),_:1}),S(i,{prop:"follow_day_num",label:"距离随访天数"},{default:P((a=>[a.row.follow_day_num<=3?(j(),z("span",H,v(a.row.follow_day_num),1)):(j(),z("span",J,v(a.row.follow_day_num),1))])),_:1}),S(i,{prop:"follow_time",label:"随访时间"},{default:P((a=>["1970-01-01 08:00:00"==a.row.follow_time?(j(),z("span",M)):1==a.row.is_follow?(j(),z("span",W,v(a.row.follow_time),1)):(j(),z("span",X))])),_:1}),S(i,{prop:"follow_content",label:"随访内容"},{default:P((a=>[1==a.row.is_follow?(j(),z("span",Y,v(a.row.follow_content),1)):(j(),z("span",Z))])),_:1}),S(i,{prop:"created_at",label:"创建时间"}),S(i,{label:"操作",width:"100"},{default:P((a=>[O("a",{style:{cursor:"pointer","margin-right":"10px"},onClick:e=>o.handleFollowUp(a.row.id)},"随访",8,$),O("a",{style:{cursor:"pointer","margin-right":"10px"},onClick:e=>o.handleEdit(a.row.id)},"修改",8,aa)])),_:1})])),_:1},8,["data"]),[[u,a.loading]]),S(d,{background:"",layout:"prev, pager, next",total:a.total,"page-size":a.pageSize,"current-page":a.currentPage,onCurrentChange:o.changePage},null,8,["total","page-size","current-page","onCurrentChange"])])),_:1})};export{U as default};
