var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(a,l,o)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[l]=o;import{K as p,u as i,r as s,j as d,h as m,ad as u,ae as c,t as _,R as g,E as h,L as y,S as b,T as w,U as f,Q as k,V as x,o as C,F as j,w as P,b as v,n as O,d as V,W as z,c as S,e as F}from"./vendor.0476fa1a.js";/* empty css                        *//* empty css                *//* empty css                      *//* empty css                 *//* empty css                  *//* empty css                     *//* empty css                    *//* empty css                        */import"./index.9aaa5adc.js";const U={name:"admin-list",setup(){p(!0);const e=i(),h=s({follow_day_num:0,name:"",id_card:"",hospital_number:"",loading:!1,tableData:[],multipleSelection:[],total:0,currentPage:1,pageSize:10});d((()=>{b(),y()}));const y=()=>{m.get("/api/back/WeightLosss/followDayNum").then((e=>{h.follow_day_num=e.data.follow_day_num,u({title:"减重",message:c("i",{style:"color: #F56C6C"},"今日待随访人数"+h.follow_day_num+"人"),type:"warning"})}))},b=()=>{h.loading=!0,m.get("/api/back/WeightLosss",{params:{page:h.currentPage,page_size:h.pageSize,name:h.name,hospital_number:h.hospital_number,id_card:h.id_card}}).then((e=>{h.tableData=e.data,h.pageSize=e.pagination.perPage,h.total=e.pagination.total,h.currentPage=e.pagination.currentPage,h.loading=!1}))};return w=((e,a)=>{for(var l in a||(a={}))t.call(a,l)&&n(e,l,a[l]);if(o)for(var l of o(a))r.call(a,l)&&n(e,l,a[l]);return e})({},_(h)),a(w,l({changePage:e=>{h.currentPage=e,b()},handleAdd:()=>{e.push({path:"/weight-loss-add"})},handleEdit:a=>{e.push({path:"/weight-loss-add",query:{id:a}})},handleFollowUp:a=>{e.push({path:"/weight-loss-follow-up-index",query:{weight_loss_id:a}})},handleOption:()=>{h.currentPage=1,b()},Plus:g}));var w}},D={style:{color:"#F56C6C"}},E=F("新增病例"),L=F("搜索"),W={key:0},q={key:1},A={key:0},I={key:1},K={key:0},N={key:1},Q={key:0},R={key:1},T={key:0},B={key:1},G={key:0,style:{color:"#F56C6C"}},H={key:1},J={key:0},M={key:1},X={key:2},Y={key:0},Z={key:1},$=["onClick"],ee=["onClick"];U.render=function(e,a,l,o,t,r){const n=h,p=y,i=b,s=w,d=f,m=k,u=x;return C(),j(m,{style:{"min-height":"100%"}},{header:P((()=>[v("h1",D,"今日待随访人数"+O(e.follow_day_num)+"人",1),V(n,{type:"primary",icon:o.Plus,onClick:o.handleAdd},{default:P((()=>[E])),_:1},8,["icon","onClick"]),v("div",null,[V(p,{style:{width:"200px","margin-top":"20px","margin-right":"10px","margin-left":"10px"},placeholder:"请输入病例名字",modelValue:e.name,"onUpdate:modelValue":a[0]||(a[0]=a=>e.name=a),clearable:""},null,8,["modelValue"]),V(p,{style:{width:"200px","margin-top":"20px","margin-right":"10px","margin-left":"10px"},placeholder:"请输入病例住院号",modelValue:e.hospital_number,"onUpdate:modelValue":a[1]||(a[1]=a=>e.hospital_number=a),clearable:""},null,8,["modelValue"]),V(p,{style:{width:"200px","margin-top":"20px","margin-right":"10px","margin-left":"10px"},placeholder:"请输入病例身份证号",modelValue:e.id_card,"onUpdate:modelValue":a[2]||(a[2]=a=>e.id_card=a),clearable:""},null,8,["modelValue"]),V(n,{type:"primary",onClick:o.handleOption},{default:P((()=>[L])),_:1},8,["onClick"])])])),default:P((()=>[z(V(s,{data:e.tableData,stripe:"",style:{width:"100%"}},{default:P((()=>[V(i,{prop:"id",label:"id"}),V(i,{prop:"hospital_number",label:"住院号"}),V(i,{prop:"name",label:"姓名"}),V(i,{prop:"age",label:"年龄"}),V(i,{prop:"sex",label:"性别"},{default:P((e=>[1==e.row.sex?(C(),S("span",W,"男")):(C(),S("span",q,"女"))])),_:1}),V(i,{prop:"national",label:"民族"}),V(i,{prop:"id_card",label:"身份证号"}),V(i,{prop:"mobile",label:"患者联系电话"}),V(i,{prop:"total_money",label:"住院总费用"}),V(i,{prop:"family_contact",label:"家属联系方式"}),V(i,{prop:"admission_time",label:"入院日期"},{default:P((e=>["1970-01-01 08:00:00"==e.row.admission_time?(C(),S("span",A)):(C(),S("span",I,O(e.row.admission_time),1))])),_:1}),V(i,{prop:"operative_time",label:"手术日期"},{default:P((e=>["1970-01-01 08:00:00"==e.row.operative_time?(C(),S("span",K)):(C(),S("span",N,O(e.row.operative_time),1))])),_:1}),V(i,{prop:"discharge_time",label:"出院日期"},{default:P((e=>["1970-01-01 08:00:00"==e.row.discharge_time?(C(),S("span",Q)):(C(),S("span",R,O(e.row.discharge_time),1))])),_:1}),V(i,{prop:"total_hospital_days",label:"总住院天数"}),V(i,{prop:"postoperation_hospital_days",label:"术后住院天数"}),V(i,{prop:"is_follow",label:"是否随访"},{default:P((e=>[0==e.row.is_follow?(C(),S("span",T,"否")):(C(),S("span",B,"是"))])),_:1}),V(i,{prop:"follow_day_num",label:"距离随访天数"},{default:P((e=>[e.row.follow_day_num<=3?(C(),S("span",G,O(e.row.follow_day_num),1)):(C(),S("span",H,O(e.row.follow_day_num),1))])),_:1}),V(i,{prop:"follow_time",label:"随访时间"},{default:P((e=>["1970-01-01 08:00:00"==e.row.follow_time?(C(),S("span",J)):1==e.row.is_follow?(C(),S("span",M,O(e.row.follow_time),1)):(C(),S("span",X))])),_:1}),V(i,{prop:"follow_content",label:"随访内容"},{default:P((e=>[1==e.row.is_follow?(C(),S("span",Y,O(e.row.follow_content),1)):(C(),S("span",Z))])),_:1}),V(i,{prop:"created_at",label:"创建时间"}),V(i,{label:"操作",width:"100"},{default:P((e=>[v("a",{style:{cursor:"pointer","margin-right":"10px"},onClick:a=>o.handleFollowUp(e.row.id)},"随访",8,$),v("a",{style:{cursor:"pointer","margin-right":"10px"},onClick:a=>o.handleEdit(e.row.id)},"修改",8,ee)])),_:1})])),_:1},8,["data"]),[[u,e.loading]]),V(d,{background:"",layout:"prev, pager, next",total:e.total,"page-size":e.pageSize,"current-page":e.currentPage,onCurrentChange:o.changePage},null,8,["total","page-size","current-page","onCurrentChange"])])),_:1})};export{U as default};
